# 긴 파일들 변경 계획

## 1. keywordimagestory/ui/static/js/app.js (4,253줄)

### 현재 상태
- JavaScript 단일 파일에 모든 기능이 집중
- 약 382개의 함수/클래스가 하나의 파일에 있음
- UI 상태 관리, 이벤트 핸들링, API 호출 등이 혼재

### 분할 계획
```
js/
├── app.js (메인 앱 및 초기화)
├── modules/
│   ├── state.js (상태 관리)
│   ├── api.js (API 호출)
│   ├── ui.js (UI 컴포넌트)
│   ├── templates.js (템플릿 관련)
│   ├── effects.js (효과 관련)
│   └── utils.js (유틸리티 함수)
└── components/
    ├── preview.js (프리뷰 관련)
    ├── editor.js (에디터 관련)
    └── history.js (히스토리 관련)
```

## 2. ai_shorts_maker/translator.py (1,478줄)

### 현재 상태
- 번역 프로젝트의 모든 기능이 하나의 파일에 집중
- 약 49개의 클래스/함수가 있음
- 모델, 서비스, 리포지토리 로직이 혼재

### 분할 계획
```
translator/
├── __init__.py
├── models.py (TranslatorSegment, TranslatorProject 등)
├── repository.py (프로젝트 저장/로드)
├── services.py (번역 서비스 로직)
├── utils.py (유틸리티 함수)
└── converter.py (형식 변환)
```

## 3. web_app/app.py (1,334줄)

### 현재 상태
- FastAPI 애플리케이션의 모든 엔드포인트가 하나의 파일에 있음
- 약 88개의 함수/클래스가 있음
- 다양한 도메인의 API가 혼재

### 분할 계획
```
web_app/
├── app.py (메인 애플리케이션)
├── routers/
│   ├── __init__.py
│   ├── projects.py (프로젝트 관련 API)
│   ├── translator.py (번역 관련 API)
│   ├── youtube.py (유튜브 관련 API)
│   └── media.py (미디어 관련 API)
├── dependencies.py (의존성 주입)
└── middleware.py (미들웨어)
```

## 우선순위

1. **높음**: keywordimagestory/ui/static/js/app.js
   - 가장 큰 파일 (4,253줄)
   - 프론트엔드 유지보수성 크게 향상

2. **중간**: ai_shorts_maker/translator.py
   - 복잡한 비즈니스 로직 분리 필요
   - 재사용성 향상

3. **낮음**: web_app/app.py
   - FastAPI 구조화 표준 적용
   - API 관리 개선

## 예상 효과

- 코드 가독성 및 유지보수성 향상
- 모듈 간 책임 분리
- 재사용성 증대
- 팀 협업 효율성 향상
- 테스트 용이성 개선